from validators import *
import pytest

@pytest.mark.parametrize('value,whitelist,op', [('email@here.com', None, True), ('email@here.com', None, True), ('weirder-email@here.and.there.com', None, True), ('email@[127.0.0.1]', None, True), ('example@valid-----hyphens.com', None, True), ('example@valid-with-hyphens.com', None, True), ('test@domain.with.idn.tld.\\xe0\\xa4\\x89\\xe0\\xa4\\xa6\\xe0\\xa4\\xbe\\xe0\\xa4\\xb9\\xe0\\xa4\\xb0\\xe0\\xa4\\xa3.\\xe0\\xa4\\xaa\\xe0\\xa4\\xb0\\xe0\\xa5\\x80\\xe0\\xa4\\x95\\xe0\\xa5\\x8d\\xe0\\xa4\\xb7\\xe0\\xa4\\xbe', None, True), ('email@localhost', None, True), ('email@localdomain', '[localdomain]', True), ('"test@test"@example.com', None, True), ('"\\\t"@here.com', None, True), (None, None, False), ('', None, False), ('abc', None, False), ('abc@', None, False), ('abc@bar', None, False), ('a @x.cz', None, False), ('abc@.com', None, False), ('something@@somewhere.com', None, False), ('email@127.0.0.1', None, False), ('example@invalid-.com', None, False), ('example@-invalid.com', None, False), ('example@inv-.alid-.com', None, False), ('example@inv-.-alid.com', None, False), ('"\\\n"@here.com', None, False), ('jsmith@apache.org', None, True), ('joe!/blow@apache.org', None, True), ('joe@ap/ache.org', None, False), ('joe@apac!he.org', None, False), ('andy.noble@?data-workshop.com', None, False), ("andy.o'reilly@data-workshop.com", None, True), ("andy@o'reilly.data-workshop.com", None, False), ('foo+bar@i.am.not.in.us.example.com', None, True), ('foo+bar@example+3.com', None, False), ('test@%*.com', None, False), ('test@^&#.com', None, False), ('joeblow @apache.org', None, False), ('joeblow@ apache.org', None, False), (' joeblow@apache.org', None, True), ('joeblow@apache.org ', None, True), ('joe blow@apache.org ', None, False), ('joeblow@apa che.org ', None, False), ('joeblow@apa,che.org', None, False), ('joeblow@apache.o,rg', None, False), ('joeblow@apache,org', None, False), ('andy.noble@data-workshop.com', None, True), ('andy-noble@data-workshop.-com', None, False), ('andy-noble@data-workshop.c-om', None, False), ('andy-noble@data-workshop.co-m', None, False), ('me@at&t.net', None, False), ('me@att.net', None, True), ('abc@school.school', None, True), ('joe@localhost.localdomain', None, True), ('joe@localhost', None, True), ('joe@localhost.localdomain', None, False), ('joe@localhost', None, False), ('Loremipsumdolorsitametconsecteturadipiscingelit.Nullavitaeligulamattisrhoncusnuncegestasmattisleo.Donecnonsapieninmagnatristiquedictumaacturpis.Fusceorciduifacilisisutsapieneuconsequatpharetralectus.Quisqueenimestpulvinarutquamvitaeportamattisex.Nullamquismaurisplaceratconvallisjustoquisportamauris.Innullalacusconvalliseufringillautvenenatissitametdiam.Maecenasluctusligulascelerisquepulvinarfeugiat.Sedmolestienullaaliquetorciluctusidpharetranislfinibus.Suspendissemalesuadatinciduntduisitametportaarcusollicitudinnec.Donecetmassamagna.Curabitururnadiampretiumveldignissimporttitorfringillaeuneque.Duisantetelluspharetraidtinciduntinterdummolestiesitametfelis.Utquisquamsitametantesagittisdapibusacnonodio.Namrutrummolestiediamidmattis.Cumsociisnatoquepenatibusetmagnisdisparturientmontesnasceturridiculusmus.Morbiposueresedmetusacconsectetur.Etiamquisipsumvitaejustotempusmaximus.Sedultriciesplaceratvolutpat.Integerlacuslectusmaximusacornarequissagittissitametjusto.Cumsociisnatoquepenatibusetmagnisdisparturientmontesnasceturridiculusmus.Maecenasindictumpurussedrutrumex.Nullafacilisi.Integerfinibusfinibusmietpharetranislfaucibusvel.Maecenasegetdolorlacinialobortisjustovelullamcorpersem.Vivamusaliquetpurusidvariusornaresapienrisusrutrumnisitinciduntmollissemnequeidmetus.Etiamquiseleifendpurus.Nuncfelisnuncscelerisqueiddignissimnecfinibusalibero.Nuncsemperenimnequesitamethendreritpurusfacilisisac.Maurisdapibussemperfelisdignissimgravida.Aeneanultricesblanditnequealiquamfinibusodioscelerisqueac.Aliquamnecmassaeumaurisfaucibusfringilla.Etiamconsequatligulanisisitametaliquamnibhtemporquis.Nuncinterdumdignissimnullaatsodalesarcusagittiseu.Proinpharetrametusneclacuspulvinarsedvolutpatliberoornare.Sedligulanislpulvinarnonlectuseublanditfacilisisante.Sedmollisnislalacusauctorsuscipit.Inhachabitasseplateadictumst.Phasellussitametvelittemporvenenatisfeliseuegestasrisus.Aliquameteratsitametnibhcommodofinibus.Morbiefficiturodiovelpulvinariaculis.Aeneantemporipsummassaaconsecteturturpisfaucibusultrices.Praesentsodalesmaurisquisportafermentum.Etiamnisinislvenenatisvelauctorutullamcorperinjusto.Proinvelligulaerat.Phasellusvestibulumgravidamassanonfeugiat.Maecenaspharetraeuismodmetusegetefficitur.Suspendisseamet@gmail.com', None, False), ('someone@xn--d1abbgf6aiiy.xn--p1ai', None, True), ('someone@пÑ\x80езиденÑ\x82.Ñ\x80Ñ\x84', None, True), ('someone@www.bücher.ch', None, True), ('someone@www.?.ch', None, False), ('someone@www.bücher.ch', None, True), ('someone@www.?.ch', None, False), ('someone@[216.109.118.76]', None, True), ('someone@yahoo.com', None, True), ('andy.noble@data-workshop.com.', None, False), ('someone@-test.com', None, False), ('someone@test-.com', None, False), ('joe1blow@apache.org', None, True), ('joe$blow@apache.org', None, True), ('joe-@apache.org', None, True), ('joe_@apache.org', None, True), ('joe+@apache.org', None, True), ('joe!@apache.org', None, True), ('joe*@apache.org', None, True), ("joe'@apache.org", None, True), ('joe%45@apache.org', None, True), ('joe?@apache.org', None, True), ('joe&@apache.org', None, True), ('joe=@apache.org', None, True), ('+joe@apache.org', None, True), ('!joe@apache.org', None, True), ('*joe@apache.org', None, True), ("'joe@apache.org", None, True), ('%joe45@apache.org', None, True), ('?joe@apache.org', None, True), ('&joe@apache.org', None, True), ('=joe@apache.org', None, True), ('+@apache.org', None, True), ('!@apache.org', None, True), ('*@apache.org', None, True), ("'@apache.org", None, True), ('%@apache.org', None, True), ('?@apache.org', None, True), ('&@apache.org', None, True), ('=@apache.org', None, True), ('joe.@apache.org', None, False), ('.joe@apache.org', None, False), ('.@apache.org', None, False), ('joe.ok@apache.org', None, True), ('joe..ok@apache.org', None, False), ('..@apache.org', None, False), ('joe(@apache.org', None, False), ('joe)@apache.org', None, False), ('joe,@apache.org', None, False), ('joe;@apache.org', None, False), ('"joe."@apache.org', None, True), ('".joe"@apache.org', None, True), ('"joe+"@apache.org', None, True), ('"joe!"@apache.org', None, True), ('"joe*"@apache.org', None, True), ('"joe\'"@apache.org', None, True), ('"joe("@apache.org', None, True), ('"joe)"@apache.org', None, True), ('"joe,"@apache.org', None, True), ('"joe%45"@apache.org', None, True), ('"joe;"@apache.org', None, True), ('"joe?"@apache.org', None, True), ('"joe&"@apache.org', None, True), ('"joe="@apache.org', None, True), ('".."@apache.org', None, True), ('"john\\"doe"@apache.org', None, True), ('john56789.john56789.john56789.john56789.john56789.john56789.john@example.com', None, True), ('john56789.john56789.john56789.john56789.john56789.john56789.john5@example.com', None, False), ('\\>escape\\\\special\\^characters\\<@example.com', None, True), ('Abc\\@def@example.com', None, True), ('Abc@def@example.com', None, False), ('space\\ monkey@example.com', None, True), ('test@.com', None, False), ('abc-@abc.com', None, True), ('abc_@abc.com', None, True), ('abc-def@abc.com', None, True), ('abc_def@abc.com', None, True), ('abc@abc_def.com', None, False), ('jsmith@apache.org', None, True), ('jsmith@apache.com', None, True), ('jsmith@apache.net', None, True), ('jsmith@apache.info', None, True), ('jsmith@apache.', None, False), ('jsmith@apache.c', None, False), ('someone@yahoo.museum', None, True), ('someone@yahoo.mu-seum', None, False), ('test@com', None, True), ('abigail@example.com', None, True), ('abigail@example.com ', None, True), (' abigail@example.com', None, True), ('abigail @example.com ', None, True), ('*@example.net', None, True), ('"\\""@foo.bar', None, True), ('fred&barny@example.com', None, True), ('---@example.com', None, True), ('foo-bar@example.net', None, True), ('"127.0.0.1"@[127.0.0.1]', None, True), ('Abigail <abigail@example.com>', None, True), ('Abigail<abigail@example.com>', None, True), ('Abigail<@a,@b,@c:abigail@example.com>', None, True), ('"This is a phrase"<abigail@example.com>', None, True), ('"Abigail "<abigail@example.com>', None, True), ('"Joe & J. Harvey" <example @Org>', None, True), ('Abigail <abigail @ example.com>', None, True), ('Abigail made this <  abigail   @   example  .    com    >', None, True), ('Abigail(the bitch)@example.com', None, True), ('Abigail <abigail @ example . (bar) com >', None, True), ('Abigail < (one)  abigail (two) @(three)example . (bar) com (quz) >', None, True), ('Abigail (foo) (((baz)(nested) (comment)) ! ) < (one)  abigail (two) @(three)example . (bar) com (quz) >', None, True), ('Abigail <abigail(fo\\(o)@example.com>', None, True), ('Abigail <abigail(fo\\)o)@example.com> ', None, True), ('(foo) abigail@example.com', None, True), ('abigail@example.com (foo)', None, True), ('"Abi\\"gail" <abigail@example.com>', None, True), ('abigail@[example.com]', None, True), ('abigail@[exa\\[ple.com]', None, True), ('abigail@[exa\\]ple.com]', None, True), ('":sysmail"@  Some-Group. Some-Org', None, True), ('Muhammed.(I am  the greatest) Ali @(the)Vegas.WBA', None, True), ('mailbox.sub1.sub2@this-domain', None, True), ('sub-net.mailbox@sub-domain.domain', None, True), ('name:;', None, True), ("':;", None, True), ('name:   ;', None, True), ('Alfred Neuman <Neuman@BBN-TENEXA>', None, True), ('Neuman@BBN-TENEXA', None, True), ('"George, Ted" <Shared@Group.Arpanet>', None, True), ('Wilt . (the  Stilt) Chamberlain@NBA.US', None, True), ('Cruisers:  Port@Portugal, Jones@SEA;', None, True), ('$@[]', None, True), ('*()@[]', None, True), ('"quoted ( brackets" ( a comment )@example.com', None, True), ('"Joe & J. Harvey"\\x0D\\x0A     <ddd\\@ Org>', None, True), ('"Joe &\\x0D\\x0A J. Harvey" <ddd \\@ Org>', None, True), ('Gourmets:  Pompous Person <WhoZiWhatZit\\@Cordon-Bleu>,\\x0D\\x0A        Childs\\@WGBH.Boston, "Galloping Gourmet"\\@\\x0D\\x0A        ANT.Down-Under (Australian National Television),\\x0D\\x0A        Cheapie\\@Discount-Liquors;', None, True), ('   Just a string', None, False), ('string', None, False), ('(comment)', None, False), ('()@example.com', None, False), ('fred(&)barny@example.com', None, False), ('fred\\ barny@example.com', None, False), ('Abigail <abi gail @ example.com>', None, False), ('Abigail <abigail(fo(o)@example.com>', None, False), ('Abigail <abigail(fo)o)@example.com>', None, False), ('"Abi"gail" <abigail@example.com>', None, False), ('abigail@[exa]ple.com]', None, False), ('abigail@[exa[ple.com]', None, False), ('abigail@[exaple].com]', None, False), ('abigail@', None, False), ('@example.com', None, False), ('phrase: abigail@example.com abigail@example.com ;', None, False), ('invalid�char@example.com', None, False), ('jsmith@apache.org', None, True), ('joe!/blow@apache.org', None, True), ('joe@ap/ache.org', None, False), ('joe@apac!he.org', None, False), ('andy.noble@?data-workshop.com', None, False), ("andy.o'reilly@data-workshop.com", None, True), ("andy@o'reilly.data-workshop.com", None, False), ('foo+bar@i.am.not.in.us.example.com', None, True), ('foo+bar@example+3.com', None, False), ('test@%*.com', None, False), ('test@^&#.com', None, False), ('joeblow @apache.org', None, False), ('joeblow@ apache.org', None, False), (' joeblow@apache.org', None, True), ('joeblow@apache.org ', None, True), ('joe blow@apache.org ', None, False), ('joeblow@apa che.org ', None, False), ('joeblow@apa,che.org', None, False), ('joeblow@apache.o,rg', None, False), ('joeblow@apache,org', None, False), ('andy.noble@data-workshop.com', None, True), ('andy-noble@data-workshop.-com', None, False), ('andy-noble@data-workshop.c-om', None, False), ('andy-noble@data-workshop.co-m', None, False), ('me@at&t.net', None, False), ('me@att.net', None, True), ('abc@school.school', None, True), ('joe@localhost.localdomain', None, True), ('joe@localhost', None, True), ('joe@localhost.localdomain', None, False), ('joe@localhost', None, False), ('Loremipsumdolorsitametconsecteturadipiscingelit.Nullavitaeligulamattisrhoncusnuncegestasmattisleo.Donecnonsapieninmagnatristiquedictumaacturpis.Fusceorciduifacilisisutsapieneuconsequatpharetralectus.Quisqueenimestpulvinarutquamvitaeportamattisex.Nullamquismaurisplaceratconvallisjustoquisportamauris.Innullalacusconvalliseufringillautvenenatissitametdiam.Maecenasluctusligulascelerisquepulvinarfeugiat.Sedmolestienullaaliquetorciluctusidpharetranislfinibus.Suspendissemalesuadatinciduntduisitametportaarcusollicitudinnec.Donecetmassamagna.Curabitururnadiampretiumveldignissimporttitorfringillaeuneque.Duisantetelluspharetraidtinciduntinterdummolestiesitametfelis.Utquisquamsitametantesagittisdapibusacnonodio.Namrutrummolestiediamidmattis.Cumsociisnatoquepenatibusetmagnisdisparturientmontesnasceturridiculusmus.Morbiposueresedmetusacconsectetur.Etiamquisipsumvitaejustotempusmaximus.Sedultriciesplaceratvolutpat.Integerlacuslectusmaximusacornarequissagittissitametjusto.Cumsociisnatoquepenatibusetmagnisdisparturientmontesnasceturridiculusmus.Maecenasindictumpurussedrutrumex.Nullafacilisi.Integerfinibusfinibusmietpharetranislfaucibusvel.Maecenasegetdolorlacinialobortisjustovelullamcorpersem.Vivamusaliquetpurusidvariusornaresapienrisusrutrumnisitinciduntmollissemnequeidmetus.Etiamquiseleifendpurus.Nuncfelisnuncscelerisqueiddignissimnecfinibusalibero.Nuncsemperenimnequesitamethendreritpurusfacilisisac.Maurisdapibussemperfelisdignissimgravida.Aeneanultricesblanditnequealiquamfinibusodioscelerisqueac.Aliquamnecmassaeumaurisfaucibusfringilla.Etiamconsequatligulanisisitametaliquamnibhtemporquis.Nuncinterdumdignissimnullaatsodalesarcusagittiseu.Proinpharetrametusneclacuspulvinarsedvolutpatliberoornare.Sedligulanislpulvinarnonlectuseublanditfacilisisante.Sedmollisnislalacusauctorsuscipit.Inhachabitasseplateadictumst.Phasellussitametvelittemporvenenatisfeliseuegestasrisus.Aliquameteratsitametnibhcommodofinibus.Morbiefficiturodiovelpulvinariaculis.Aeneantemporipsummassaaconsecteturturpisfaucibusultrices.Praesentsodalesmaurisquisportafermentum.Etiamnisinislvenenatisvelauctorutullamcorperinjusto.Proinvelligulaerat.Phasellusvestibulumgravidamassanonfeugiat.Maecenaspharetraeuismodmetusegetefficitur.Suspendisseamet@gmail.com', None, False), ('someone@xn--d1abbgf6aiiy.xn--p1ai', None, True), ('someone@пÑ\x80езиденÑ\x82.Ñ\x80Ñ\x84', None, True), ('someone@www.bücher.ch', None, True), ('someone@www.?.ch', None, False), ('someone@www.bücher.ch', None, True), ('someone@www.?.ch', None, False), ('someone@[216.109.118.76]', None, True), ('someone@yahoo.com', None, True), ('andy.noble@data-workshop.com.', None, False), ('someone@-test.com', None, False), ('someone@test-.com', None, False), ('joe1blow@apache.org', None, True), ('joe$blow@apache.org', None, True), ('joe-@apache.org', None, True), ('joe_@apache.org', None, True), ('joe+@apache.org', None, True), ('joe!@apache.org', None, True), ('joe*@apache.org', None, True), ("joe'@apache.org", None, True), ('joe%45@apache.org', None, True), ('joe?@apache.org', None, True), ('joe&@apache.org', None, True), ('joe=@apache.org', None, True), ('+joe@apache.org', None, True), ('!joe@apache.org', None, True), ('*joe@apache.org', None, True), ("'joe@apache.org", None, True), ('%joe45@apache.org', None, True), ('?joe@apache.org', None, True), ('&joe@apache.org', None, True), ('=joe@apache.org', None, True), ('+@apache.org', None, True), ('!@apache.org', None, True), ('*@apache.org', None, True), ("'@apache.org", None, True), ('%@apache.org', None, True), ('?@apache.org', None, True), ('&@apache.org', None, True), ('=@apache.org', None, True), ('joe.@apache.org', None, False), ('.joe@apache.org', None, False), ('.@apache.org', None, False), ('joe.ok@apache.org', None, True), ('joe..ok@apache.org', None, False), ('..@apache.org', None, False), ('joe(@apache.org', None, False), ('joe)@apache.org', None, False), ('joe,@apache.org', None, False), ('joe;@apache.org', None, False), ('"joe."@apache.org', None, True), ('".joe"@apache.org', None, True), ('"joe+"@apache.org', None, True), ('"joe!"@apache.org', None, True), ('"joe*"@apache.org', None, True), ('"joe\'"@apache.org', None, True), ('"joe("@apache.org', None, True), ('"joe)"@apache.org', None, True), ('"joe,"@apache.org', None, True), ('"joe%45"@apache.org', None, True), ('"joe;"@apache.org', None, True), ('"joe?"@apache.org', None, True), ('"joe&"@apache.org', None, True), ('"joe="@apache.org', None, True), ('".."@apache.org', None, True), ('"john\\"doe"@apache.org', None, True), ('john56789.john56789.john56789.john56789.john56789.john56789.john@example.com', None, True), ('john56789.john56789.john56789.john56789.john56789.john56789.john5@example.com', None, False), ('\\>escape\\\\special\\^characters\\<@example.com', None, True), ('Abc\\@def@example.com', None, True), ('Abc@def@example.com', None, False), ('space\\ monkey@example.com', None, True), ('test@.com', None, False), ('abc-@abc.com', None, True), ('abc_@abc.com', None, True), ('abc-def@abc.com', None, True), ('abc_def@abc.com', None, True), ('abc@abc_def.com', None, False), ('jsmith@apache.org', None, True), ('jsmith@apache.com', None, True), ('jsmith@apache.net', None, True), ('jsmith@apache.info', None, True), ('jsmith@apache.', None, False), ('jsmith@apache.c', None, False), ('someone@yahoo.museum', None, True), ('someone@yahoo.mu-seum', None, False), ('test@com', None, True), ('abigail@example.com', None, True), ('abigail@example.com ', None, True), (' abigail@example.com', None, True), ('abigail @example.com ', None, True), ('*@example.net', None, True), ('"\\""@foo.bar', None, True), ('fred&barny@example.com', None, True), ('---@example.com', None, True), ('foo-bar@example.net', None, True), ('"127.0.0.1"@[127.0.0.1]', None, True), ('Abigail <abigail@example.com>', None, True), ('Abigail<abigail@example.com>', None, True), ('Abigail<@a,@b,@c:abigail@example.com>', None, True), ('"This is a phrase"<abigail@example.com>', None, True), ('"Abigail "<abigail@example.com>', None, True), ('"Joe & J. Harvey" <example @Org>', None, True), ('Abigail <abigail @ example.com>', None, True), ('Abigail made this <  abigail   @   example  .    com    >', None, True), ('Abigail(the bitch)@example.com', None, True), ('Abigail <abigail @ example . (bar) com >', None, True), ('Abigail < (one)  abigail (two) @(three)example . (bar) com (quz) >', None, True), ('Abigail (foo) (((baz)(nested) (comment)) ! ) < (one)  abigail (two) @(three)example . (bar) com (quz) >', None, True), ('Abigail <abigail(fo\\(o)@example.com>', None, True), ('Abigail <abigail(fo\\)o)@example.com> ', None, True), ('(foo) abigail@example.com', None, True), ('abigail@example.com (foo)', None, True), ('"Abi\\"gail" <abigail@example.com>', None, True), ('abigail@[example.com]', None, True), ('abigail@[exa\\[ple.com]', None, True), ('abigail@[exa\\]ple.com]', None, True), ('":sysmail"@  Some-Group. Some-Org', None, True), ('Muhammed.(I am  the greatest) Ali @(the)Vegas.WBA', None, True), ('mailbox.sub1.sub2@this-domain', None, True), ('sub-net.mailbox@sub-domain.domain', None, True), ('name:;', None, True), ("':;", None, True), ('name:   ;', None, True), ('Alfred Neuman <Neuman@BBN-TENEXA>', None, True), ('Neuman@BBN-TENEXA', None, True), ('"George, Ted" <Shared@Group.Arpanet>', None, True), ('Wilt . (the  Stilt) Chamberlain@NBA.US', None, True), ('Cruisers:  Port@Portugal, Jones@SEA;', None, True), ('$@[]', None, True), ('*()@[]', None, True), ('"quoted ( brackets" ( a comment )@example.com', None, True), ('"Joe & J. Harvey"\\x0D\\x0A     <ddd\\@ Org>', None, True), ('"Joe &\\x0D\\x0A J. Harvey" <ddd \\@ Org>', None, True), ('Gourmets:  Pompous Person <WhoZiWhatZit\\@Cordon-Bleu>,\\x0D\\x0A        Childs\\@WGBH.Boston, "Galloping Gourmet"\\@\\x0D\\x0A        ANT.Down-Under (Australian National Television),\\x0D\\x0A        Cheapie\\@Discount-Liquors;', None, True), ('   Just a string', None, False), ('string', None, False), ('(comment)', None, False), ('()@example.com', None, False), ('fred(&)barny@example.com', None, False), ('fred\\ barny@example.com', None, False), ('Abigail <abi gail @ example.com>', None, False), ('Abigail <abigail(fo(o)@example.com>', None, False), ('Abigail <abigail(fo)o)@example.com>', None, False), ('"Abi"gail" <abigail@example.com>', None, False), ('abigail@[exa]ple.com]', None, False), ('abigail@[exa[ple.com]', None, False), ('abigail@[exaple].com]', None, False), ('abigail@', None, False), ('@example.com', None, False), ('phrase: abigail@example.com abigail@example.com ;', None, False), ('invalid�char@example.com', None, False), ('name.site.com', None, False), ('name@d.com', None, False), ('name@site', None, False), ('name@site.', None, False), ('me@foo.123', None, False), ('me@foo.c', None, False), ('me@foo.!!', None, False), ('me@foo.___', None, False), ('me@foo.toolongext', None, False), ('someone@SOMESITE.COM', None, False), ('me@#foo#.com', None, False), ('me@foo!.com', None, False), ('someone@[foo].com', None, False), ('name@em..ail.net', None, False), ('name@email..net', None, False), ('name@', None, False), ('#me#@foo.com', None, False), ('me!@foo.com', None, False), ('[][]@foo.com', None, False), ('john%@john5music.net', None, False), ('@foo.com', None, False), ('me@foo.com', None, True), ('name@gmail.com', None, True), ('name2@gmail.com', None, True), ('PeterParker@gmail.com', None, True), ('first_name.last_name@yahoo.it', None, True), ('foo@domamin.subdomain.com', None, True), ('is1email@domain.org', None, True), ('UPPER_CASE_EMAIL@somesite.com', None, True), (None, None, False), (False, None, False), (0, None, False), ([], None, False), ({
    'a': 1,
}, None, False), ('', None, False), (' ', None, False)])
def test_email(value, whitelist, op):
    assert (email(value, whitelist) == op)
