from validators import *
import pytest

@pytest.mark.parametrize('address,public,op', [('http://foobar.museum/foobar', False, True), ('https://www.site.com/a/b/c/banana/file.html?foo=1&bar=2#hello-world', False, True), ('http://google', False, False), ('http://google.', False, False), ('http://google.c', False, False), ('http://google.abcdefghi', False, False), ('http://site.com/foo/file.name.ext', False, True), ('http://localhost', False, True), ('google.com', False, False), ('http://site.com', False, True), ('http://www.site.com', False, True), ('https://site.com', False, True), ('https://www.site.com', False, True), ('ftp://site.com', False, True), ('git://site.com', False, True), ('http://123.123.123.123', False, True), ('http://1.123.123.123', False, True), ('http://1.1.123.123', False, True), ('http://1.1.1.123', False, True), ('http://1.1.1.1', False, True), ('http://123.123.123.1', False, True), ('http://123.123.1.1', False, True), ('http://123.1.1.1', False, True), ('http://1.2.3', False, False), ('http://1.2.3.', False, False), ('http://123.123.123.1234', False, False), ('http://.123.123.123.123', False, False), ('http://123.123.123.123.', False, False), ('http://123.123...123.123', False, False), ('http://123..123..123.123', False, False), ('git://site.com', False, True), ('git://site.com', False, False), (None, False, False), (False, False, False), (0, False, False), ([], False, False), ({
    'a': 1,
}, False, False), ('', False, False), (' ', False, False), (' http://www.google.com', False, False), ('http://www.google.com ', False, False), ('http://www.google.com/ ncr', False, False), ('http://www.goo gle.com', False, False), ('http://some-site-name.com', False, True), ('http://site.com/foo/photo.jpg', False, True), ('http://site.com/index.html', False, True), ('http://site.com/foo/?', False, True), ('http://site.com/foo/?foo', False, True), ('http://site.com/foo/?foo=bar', False, True), ('http://site.com/foo/?foo=bar&baz=1', False, True), ('http://site.com/foo/?foo=bar&baz=1&', False, True), ('http://www.site.com/one', False, True), ('http://www.site.com/one/', False, True), ('http://www.site.com/one/two', False, True), ('http://www.site.com/one/two/', False, True), ('http://www.site.com/one/two/three/four/five/six', False, True), ('http://site.com/foo#anchor', False, True), ('http://site.com/foo#anchor2-with_several+signs++', False, True), ('http://localhost:8080', False, True), ('postgres://myuser:mypassword@localhost:5432/mydb', False, True), ('http://-site.com', False, False), ('http://.site.com', False, False), ('http:///www.site.com', False, False), ('http://www.daveoncode.com', False, True), ('http://daveoncode.com', False, True), ('http://hostname', False, True), ('http://hostname/test/index.html', False, True), ('http://localhost/test/index.html', False, True), ('http://first.my-testing/test/index.html', False, False), ('http://broke.hostname/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://hostname', False, False), ('http://localhost/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://example.com/serach?address=Main Avenue', False, False), ('http://example.com/serach?address=Main%20Avenue', False, True), ('http://example.com/serach?address=Main+Avenue', False, True), ('http://tech.yahoo.com/rc/desktops/102;_ylt=Ao8yevQHlZ4On0O3ZJGXLEQFLZA5', False, True), ('http://example.rocks:/', False, True), ('http://example.rocks:0/', False, True), ('http://example.rocks:65535/', False, True), ('http://example.rocks:65536/', False, False), ('http://example.rocks:100000/', False, False), ('http://example.rocks/', False, True), ('http://example.rocks', False, True), ('ftp://username:password@example.com:8042/over/there/index.dtb?type=animal&name=narwhal#nose', False, True), ('file:/C:/path/to/dir/', False, True), ('http://xn--h1acbxfam.idn.icann.org/', False, True), ('http://test.xn--lgbbat1ad8j', False, True), ('http://test.xn--fiqs8s', False, True), ('http://test.xn--fiqz9s', False, True), ('http://test.xn--wgbh1c', False, True), ('http://test.xn--j6w193g', False, True), ('http://test.xn--h2brj9c', False, True), ('http://test.xn--mgbbh1a71e', False, True), ('http://test.xn--fpcrj9c3d', False, True), ('http://test.xn--gecrj9c', False, True), ('http://test.xn--s9brj9c', False, True), ('http://test.xn--xkc2dl3a5ee0h', False, True), ('http://test.xn--45brj9c', False, True), ('http://test.xn--mgba3a4f16a', False, True), ('http://test.xn--mgbayh7gpa', False, True), ('http://test.xn--mgbc0a9azcg', False, True), ('http://test.xn--ygbi2ammx', False, True), ('http://test.xn--wgbl6a', False, True), ('http://test.xn--p1ai', False, True), ('http://test.xn--mgberp4a5d4ar', False, True), ('http://test.xn--90a3ac', False, True), ('http://test.xn--yfro4i67o', False, True), ('http://test.xn--clchc0ea0b2g2a9gcd', False, True), ('http://test.xn--3e0b707e', False, True), ('http://test.xn--fzc2c9e2c', False, True), ('http://test.xn--xkc2al3hye2a', False, True), ('http://test.xn--ogbpf8fl', False, True), ('http://test.xn--kprw13d', False, True), ('http://test.xn--kpry57d', False, True), ('http://test.xn--o3cw4h', False, True), ('http://test.xn--pgbs0dh', False, True), ('http://test.xn--mgbaam7a8h', False, True), ('http://xn--d1abbgf6aiiy.xn--p1ai', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„', False, True), ('http://www.bücher.ch', False, True), ('http://www.�.ch', False, False), ('ftp://www.bücher.ch', False, True), ('ftp://www.�.ch', False, False), ('http://hello.tokyo/', False, True), ('http://www.example.org/a/b/hello..world', False, True), ('http://www.example.org/a/hello..world', False, True), ('http://www.example.org/hello.world/', False, True), ('http://www.example.org/hello..world/', False, True), ('http://www.example.org/hello.world', False, True), ('http://www.example.org/hello..world', False, True), ('http://www.example.org/..world', False, True), ('http://www.example.org/.../world', False, True), ('http://www.example.org/../world', False, False), ('http://www.example.org/..', False, False), ('http://www.example.org/../', False, False), ('http://www.example.org/./..', False, False), ('http://www.example.org/././..', False, False), ('http://www.example.org/...', False, True), ('http://www.example.org/.../', False, True), ('http://www.example.org/.../..', False, True), ('http://www.apache.org/test/index.html', False, True), ('file:///C:/some.file', False, False), ('file:///C:\\some.file', False, False), ('file:///etc/hosts', False, False), ('file://localhost/etc/hosts', False, False), ('file://localhost/c:/some.file', False, False), ('http://www.apache.org/test/index.html', False, True), ('file:///C:/some.file', False, True), ('file:///C:\\some.file', False, False), ('file:///etc/hosts', False, True), ('file://localhost/etc/hosts', False, True), ('file://localhost/c:/some.file', False, True), ('file://C:/some.file', False, False), ('file://C:\\some.file', False, False), ('http://www.apache.org:80/path', False, True), ('http://user:pass@www.apache.org:80/path', False, True), ('http://user:@www.apache.org:80/path', False, True), ('http://user@www.apache.org:80/path', False, True), ("http://us%00er:-._~!$&'()*+,;=@www.apache.org:80/path", False, True), ('http://:pass@www.apache.org:80/path', False, False), ('http://:@www.apache.org:80/path', False, False), ('http://user:pa:ss@www.apache.org/path', False, False), ('http://user:pa@ss@www.apache.org/path', False, False), ('http://www.apache.org:80/path', False, True), ('http://www.apache.org:8/path', False, True), ('http://www.apache.org:/path', False, True), ('http://sample.ondemand.com/', False, True), ('hTtP://sample.ondemand.CoM/', False, True), ('httpS://SAMPLE.ONEMAND.COM/', False, True), ('http://sample.ondemand.com/', False, True), ('hTtP://sample.ondemand.CoM/', False, True), ('httpS://SAMPLE.ONEMAND.COM/', False, True), ('http://www.cnn.com/WORLD/?hpt=sitenav', False, True), ('http://www.cnn.com./WORLD/?hpt=sitenav', False, True), ('http://www.cnn.com../', False, False), ('http://www.cnn.invalid/', False, False), ('http://www.cnn.invalid./', False, False), ('file:///C:/path/to/dir/', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„/WORLD/?hpt=sitenav', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„./WORLD/?hpt=sitenav', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„..../', False, False), ('http://пÑ€езиденÑ‚.Ñ€Ñ„.../', False, False), ('http://пÑ€езиденÑ‚.Ñ€Ñ„../', False, False), ('http://l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.org', False, True), ('http://somewhere.com/pathxyz/file(1).html', False, True), ('http://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]:80/index.html', False, True), ('http://[::1]:80/index.html', False, True), ('http://FEDC:BA98:7654:3210:FEDC:BA98:7654:3210:80/index.html', False, False), ('http://localhost/test/index.html', False, True), ('http://first.my-testing/test/index.html', False, True), ('http://sup3r.my-testing/test/index.html', False, True), ('http://broke.my-test/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://localhost/test/index.html', False, True), ('http://machinename/test/index.html', False, True), ('http://www.apache.org/test/index.html', False, True), ('http://hostname', False, True), ('http://hostname/test/index.html', False, True), ('http://localhost/test/index.html', False, True), ('http://first.my-testing/test/index.html', False, False), ('http://broke.hostname/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://hostname', False, False), ('http://localhost/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://example.com/serach?address=Main Avenue', False, False), ('http://example.com/serach?address=Main%20Avenue', False, True), ('http://example.com/serach?address=Main+Avenue', False, True), ('http://tech.yahoo.com/rc/desktops/102;_ylt=Ao8yevQHlZ4On0O3ZJGXLEQFLZA5', False, True), ('http://example.rocks:/', False, True), ('http://example.rocks:0/', False, True), ('http://example.rocks:65535/', False, True), ('http://example.rocks:65536/', False, False), ('http://example.rocks:100000/', False, False), ('http://example.rocks/', False, True), ('http://example.rocks', False, True), ('ftp://username:password@example.com:8042/over/there/index.dtb?type=animal&name=narwhal#nose', False, True), ('file:/C:/path/to/dir/', False, True), ('http://xn--h1acbxfam.idn.icann.org/', False, True), ('http://test.xn--lgbbat1ad8j', False, True), ('http://test.xn--fiqs8s', False, True), ('http://test.xn--fiqz9s', False, True), ('http://test.xn--wgbh1c', False, True), ('http://test.xn--j6w193g', False, True), ('http://test.xn--h2brj9c', False, True), ('http://test.xn--mgbbh1a71e', False, True), ('http://test.xn--fpcrj9c3d', False, True), ('http://test.xn--gecrj9c', False, True), ('http://test.xn--s9brj9c', False, True), ('http://test.xn--xkc2dl3a5ee0h', False, True), ('http://test.xn--45brj9c', False, True), ('http://test.xn--mgba3a4f16a', False, True), ('http://test.xn--mgbayh7gpa', False, True), ('http://test.xn--mgbc0a9azcg', False, True), ('http://test.xn--ygbi2ammx', False, True), ('http://test.xn--wgbl6a', False, True), ('http://test.xn--p1ai', False, True), ('http://test.xn--mgberp4a5d4ar', False, True), ('http://test.xn--90a3ac', False, True), ('http://test.xn--yfro4i67o', False, True), ('http://test.xn--clchc0ea0b2g2a9gcd', False, True), ('http://test.xn--3e0b707e', False, True), ('http://test.xn--fzc2c9e2c', False, True), ('http://test.xn--xkc2al3hye2a', False, True), ('http://test.xn--ogbpf8fl', False, True), ('http://test.xn--kprw13d', False, True), ('http://test.xn--kpry57d', False, True), ('http://test.xn--o3cw4h', False, True), ('http://test.xn--pgbs0dh', False, True), ('http://test.xn--mgbaam7a8h', False, True), ('http://xn--d1abbgf6aiiy.xn--p1ai', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„', False, True), ('http://www.bücher.ch', False, True), ('http://www.�.ch', False, False), ('ftp://www.bücher.ch', False, True), ('ftp://www.�.ch', False, False), ('http://hello.tokyo/', False, True), ('http://www.example.org/a/b/hello..world', False, True), ('http://www.example.org/a/hello..world', False, True), ('http://www.example.org/hello.world/', False, True), ('http://www.example.org/hello..world/', False, True), ('http://www.example.org/hello.world', False, True), ('http://www.example.org/hello..world', False, True), ('http://www.example.org/..world', False, True), ('http://www.example.org/.../world', False, True), ('http://www.example.org/../world', False, False), ('http://www.example.org/..', False, False), ('http://www.example.org/../', False, False), ('http://www.example.org/./..', False, False), ('http://www.example.org/././..', False, False), ('http://www.example.org/...', False, True), ('http://www.example.org/.../', False, True), ('http://www.example.org/.../..', False, True), ('http://www.apache.org/test/index.html', False, True), ('file:///C:/some.file', False, False), ('file:///C:\\some.file', False, False), ('file:///etc/hosts', False, False), ('file://localhost/etc/hosts', False, False), ('file://localhost/c:/some.file', False, False), ('http://www.apache.org/test/index.html', False, True), ('file:///C:/some.file', False, True), ('file:///C:\\some.file', False, False), ('file:///etc/hosts', False, True), ('file://localhost/etc/hosts', False, True), ('file://localhost/c:/some.file', False, True), ('file://C:/some.file', False, False), ('file://C:\\some.file', False, False), ('http://www.apache.org:80/path', False, True), ('http://user:pass@www.apache.org:80/path', False, True), ('http://user:@www.apache.org:80/path', False, True), ('http://user@www.apache.org:80/path', False, True), ("http://us%00er:-._~!$&'()*+,;=@www.apache.org:80/path", False, True), ('http://:pass@www.apache.org:80/path', False, False), ('http://:@www.apache.org:80/path', False, False), ('http://user:pa:ss@www.apache.org/path', False, False), ('http://user:pa@ss@www.apache.org/path', False, False), ('http://www.apache.org:80/path', False, True), ('http://www.apache.org:8/path', False, True), ('http://www.apache.org:/path', False, True), ('http://sample.ondemand.com/', False, True), ('hTtP://sample.ondemand.CoM/', False, True), ('httpS://SAMPLE.ONEMAND.COM/', False, True), ('http://sample.ondemand.com/', False, True), ('hTtP://sample.ondemand.CoM/', False, True), ('httpS://SAMPLE.ONEMAND.COM/', False, True), ('http://www.cnn.com/WORLD/?hpt=sitenav', False, True), ('http://www.cnn.com./WORLD/?hpt=sitenav', False, True), ('http://www.cnn.com../', False, False), ('http://www.cnn.invalid/', False, False), ('http://www.cnn.invalid./', False, False), ('file:///C:/path/to/dir/', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„/WORLD/?hpt=sitenav', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„./WORLD/?hpt=sitenav', False, True), ('http://пÑ€езиденÑ‚.Ñ€Ñ„..../', False, False), ('http://пÑ€езиденÑ‚.Ñ€Ñ„.../', False, False), ('http://пÑ€езиденÑ‚.Ñ€Ñ„../', False, False), ('http://l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.l.org', False, True), ('http://somewhere.com/pathxyz/file(1).html', False, True), ('http://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]:80/index.html', False, True), ('http://[::1]:80/index.html', False, True), ('http://FEDC:BA98:7654:3210:FEDC:BA98:7654:3210:80/index.html', False, False), ('http://localhost/test/index.html', False, True), ('http://first.my-testing/test/index.html', False, True), ('http://sup3r.my-testing/test/index.html', False, True), ('http://broke.my-test/test/index.html', False, False), ('http://www.apache.org/test/index.html', False, True), ('http://localhost/test/index.html', False, True), ('http://machinename/test/index.html', False, True), ('http://www.apache.org/test/index.html', False, True)])
def test_url(address, public, op):
    assert (url(address, public) == op)
